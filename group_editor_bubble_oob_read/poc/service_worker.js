chrome.runtime.onInstalled.addListener(function () {
    chrome.tabs.create({url: "about:blank"}, onTabCreated);
});

function onTabCreated(tab) {
    chrome.tabs.group({tabIds: tab.id, createProperties: {windowId: tab.windowId}}, onGroupCreated);
}

function onGroupCreated(groupId) {
    // A timeout like this within a service worker context isn't safe (since the service worker may
    // be terminated), but it should be ok for the demonstration here.
    setTimeout(() => {
        chrome.windows.create({state: "minimized"}, function (window) {
            // Moving the group to a new window will result in the original group being destroyed
            // (since group information is stored on a per-window basis).
            chrome.tabGroups.move(groupId, {windowId: window.id, index: -1});
        });
    }, 10000);
}