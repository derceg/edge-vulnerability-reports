chrome.tabs.create({url: "https://www.bing.com/"}, function (tab) {
    // When a custom icon is selected for a web app, there should be two focus events that are sent:
    //
    // - One when the open file dialog is created and the Edge window loses focus.
    // - A second when the open file dialog is closed and the Edge window regains focus.
    //
    // However, the first event may not be sent reliably (see https://crbug.com/387377), so it's
    // assumed in the listener below that when the window gains focus it's because the open file
    // dialog has just been closed.
    chrome.windows.onFocusChanged.addListener(function focusListener(windowId) {
        if (windowId !== tab.windowId) {
            return;
        }

        chrome.tabs.remove(tab.id);

        chrome.windows.onFocusChanged.removeListener(focusListener);
    });
});